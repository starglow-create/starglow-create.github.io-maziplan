<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('https://example.com/default-bg.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            margin: 0;
            padding: 20px;
        }

       .container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

       .card {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        input[type="number"],
        input[type="text"],
        button {
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        button {
            background-color: #007BFF;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        progress {
            width: 100%;
        }

       .bar-chart {
            height: 20px;
            background-color: #f0f0f0;
            border-radius: 3px;
            overflow: hidden;
        }

       .bar {
            height: 100%;
            background-color: #007BFF;
        }
    </style>
    <title>å¤šåŠŸèƒ½å·¥å…·ç•Œé¢</title>
</head>

<body>
    <div class="container">
        <!-- ç å­—è¿›åº¦ -->
        <div class="card">
            <h2>ç å­—è¿›åº¦</h2>
            <input type="number" id="wordCount" value="22222222" />
            <input type="number" id="totalWordCount" value="1001" />
            <button id="updateWordProgress">æ›´æ–°è¿›åº¦</button>
            <progress id="wordProgress" value="100" max="100"></progress>
            <p id="wordProgressText">å·²å®Œæˆ 22222222/1001 å­—ï¼Œè¿›åº¦ï¼š100.00%</p>
        </div>
        <!-- ç²¾å½©è¯­å½• -->
        <div class="card">
            <h2>ç²¾å½©è¯­å½•</h2>
            <p id="quote">"æˆåŠŸçš„ç§˜è¯€åœ¨äºåšæŒã€‚"</p>
            <button id="changeQuote">æ¢ä¸€æ¡è¯­å½•</button>
        </div>
        <!-- ç•ªèŒ„æ—¶é’Ÿ -->
        <div class="card">
            <h2>ç•ªèŒ„æ—¶é’Ÿ</h2>
            <p id="timer">25:00</p>
            <button id="startTimer">å¼€å§‹</button>
            <button id="stopTimer">åœæ­¢</button>
            <button id="resetTimer">é‡ç½®</button>
            <!-- ç•ªèŒ„æ—¶é’Ÿç»Ÿè®¡ -->
            <div>
                <h3>ç•ªèŒ„æ—¶é’Ÿç»Ÿè®¡</h3>
                <p>æ—¥ç»Ÿè®¡ï¼š<span id="dailyTomatoCount">0</span></p>
                <div class="bar-chart">
                    <div class="bar" id="dailyBar" style="width: 0%;"></div>
                </div>
                <p>æœˆç»Ÿè®¡ï¼š<span id="monthlyTomatoCount">0</span></p>
                <div class="bar-chart">
                    <div class="bar" id="monthlyBar" style="width: 0%;"></div>
                </div>
                <p>å¹´ç»Ÿè®¡ï¼š<span id="yearlyTomatoCount">0</span></p>
                <div class="bar-chart">
                    <div class="bar" id="yearlyBar" style="width: 0%;"></div>
                </div>
            </div>
        </div>
        <!-- æ—¥æœˆå¹´è®¡åˆ’ -->
        <div class="card">
            <h2>æ—¥æœˆå¹´è®¡åˆ’</h2>
            <input type="number" id="dailyPlan" value="1000" />
            <input type="number" id="monthlyPlan" value="22" />
            <input type="number" id="yearlyPlan" value="33" />
            <button id="updatePlanProgress">æ›´æ–°è®¡åˆ’è¿›åº¦</button>
            <p>æ—¥è®¡åˆ’è¿›åº¦ï¼š<span id="dailyPlanProgress">22222222.20%</span></p>
            <progress id="dailyPlanBar" value="22222222" max="100"></progress>
            <p>æœˆè®¡åˆ’è¿›åº¦ï¼š<span id="monthlyPlanProgress">101010100.00%</span></p>
            <progress id="monthlyPlanBar" value="101010100" max="100"></progress>
            <p>å¹´è®¡åˆ’è¿›åº¦ï¼š<span id="yearlyPlanProgress">67340066.67%</span></p>
            <progress id="yearlyPlanBar" value="67340066" max="100"></progress>
        </div>
        <!-- å¥–åŠ±æƒ©ç½šæœºåˆ¶ -->
        <div class="card">
            <h2>å¥–åŠ±æƒ©ç½šæœºåˆ¶</h2>
            <p id="rewardMessage"></p>
            <p>é‡‘å¸æ•°é‡ï¼š<span id="coinCount">26</span></p>
        </div>
        <!-- è¶£å‘³å°äºº -->
        <div class="card">
            <h2>è¶£å‘³å°äºº</h2>
            <span id="emoji">ğŸ˜Š</span>
            <button id="changeEmoji">éšæœºåˆ‡æ¢</button>
        </div>
        <!-- è‡ªå®šä¹‰èƒŒæ™¯éŸ³ä¹ -->
        <div class="card">
            <h2>è‡ªå®šä¹‰èƒŒæ™¯éŸ³ä¹</h2>
            <input type="file" id="musicFile" />
            <p id="musicFileName">ç»§ç»­ç‹¬ç«‹éŸ³ä¹MVåšæ¢¦å›¢.mp3</p>
            <button id="playMusic">æ’­æ”¾</button>
            <button id="pauseMusic">æš‚åœ</button>
        </div>
        <!-- è‡ªå®šä¹‰èƒŒæ™¯ -->
        <div class="card">
            <h2>è‡ªå®šä¹‰èƒŒæ™¯</h2>
            <input type="file" id="backgroundFile" />
            <p id="backgroundFileName"></p>
            <button id="applyBackground">åº”ç”¨</button>
            <button id="saveBackground">ä¿å­˜</button>
        </div>
        <!-- è‡ªå®šä¹‰å¡ç‰‡é¢œè‰² -->
        <div class="card" style="grid-column: span 2;">
            <h2>è‡ªå®šä¹‰å¡ç‰‡é¢œè‰²</h2>
            <input type="color" id="cardColor" />
            <button id="applyCardColor">åº”ç”¨</button>
            <button id="saveCardColor">ä¿å­˜</button>
        </div>
    </div>

    <script>
        // ç²¾å½©è¯­å½•æ•°ç»„
        const quotes = [
            "ç”Ÿæ´»å°±åƒæµ·æ´‹ï¼Œåªæœ‰æ„å¿—åšå¼ºçš„äººï¼Œæ‰èƒ½åˆ°è¾¾å½¼å²¸ã€‚",
            "æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­ï¼Œéƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿã€‚",
            "æˆåŠŸçš„èŠ±ï¼Œäººä»¬åªæƒŠç¾¡å¥¹ç°æ—¶çš„æ˜è‰³ï¼ç„¶è€Œå½“åˆå¥¹çš„èŠ½å„¿ï¼Œæµ¸é€äº†å¥‹æ–—çš„æ³ªæ³‰ï¼Œæ´’éäº†ç‰ºç‰²çš„è¡€é›¨ã€‚",
            // æ­¤å¤„çœç•¥å…¶ä»–47æ¡å”¯ç¾è¯­å½•
        ];

        // ç å­—è¿›åº¦æ›´æ–°
        document.getElementById('updateWordProgress').addEventListener('click', () => {
            const wordCount = parseInt(document.getElementById('wordCount').value);
            const totalWordCount = parseInt(document.getElementById('totalWordCount').value);
            const progress = (wordCount / totalWordCount) * 100;
            document.getElementById('wordProgress').value = progress;
            document.getElementById('wordProgressText').textContent = `å·²å®Œæˆ ${wordCount}/${totalWordCount} å­—ï¼Œè¿›åº¦ï¼š${progress.toFixed(2)}%`;
            // å®Œæˆç å­—è¿›åº¦æ›´æ–°ï¼Œè§¦å‘å¥–åŠ±
            giveReward();
        });

        // æ›´æ¢è¯­å½•
        document.getElementById('changeQuote').addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * quotes.length);
            document.getElementById('quote').textContent = `"${quotes[randomIndex]}"`;
        });

        // ç•ªèŒ„æ—¶é’Ÿç›¸å…³
        let timer;
        let timeLeft = 1500; // 25åˆ†é’Ÿï¼Œå•ä½ï¼šç§’
        document.getElementById('startTimer').addEventListener('click', () => {
            timer = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timer').textContent = `${minutes}:${seconds < 10? '0' : ''}${seconds}`;
                if (timeLeft === 0) {
                    clearInterval(timer);
                    // å®Œæˆä¸€æ¬¡ç•ªèŒ„æ—¶é’Ÿï¼Œç»Ÿè®¡å¢åŠ 
                    const dailyCount = parseInt(document.getElementById('dailyTomatoCount').textContent);
                    document.getElementById('dailyTomatoCount').textContent = dailyCount + 1;
                    const monthlyCount = parseInt(document.getElementById('monthlyTomatoCount').textContent);
                    document.getElementById('monthlyTomatoCount').textContent = monthlyCount + 1;
                    const yearlyCount = parseInt(document.getElementById('yearlyTomatoCount').textContent);
                    document.getElementById('yearlyTomatoCount').textContent = yearlyCount + 1;
                    // æ›´æ–°æŸ±çŠ¶å›¾
                    updateTomatoBar('dailyBar', dailyCount + 1);
                    updateTomatoBar('monthlyBar', monthlyCount + 1);
                    updateTomatoBar('yearlyBar', yearlyCount + 1);
                    // è§¦å‘å¥–åŠ±
                    giveReward();
                }
            }, 1000);
        });
        document.getElementById('stopTimer').addEventListener('click', () => {
            clearInterval(timer);
        });
        document.getElementById('resetTimer').addEventListener('click', () => {
            clearInterval(timer);
            timeLeft = 1500;
            document.getElementById('timer').textContent = '25:00';
        });

        function updateTomatoBar(id, count) {
            const maxCount = 30; // å‡è®¾æœ€å¤§ç»Ÿè®¡æ•°é‡ä¸º30
            const bar = document.getElementById(id);
            const width = (count / maxCount) * 100;
            bar.style.width = `${width}%`;
        }

        // æ—¥æœˆå¹´è®¡åˆ’æ›´æ–°
        document.getElementById('updatePlanProgress').addEventListener('click', () => {
            const dailyPlan = parseInt(document.getElementById('dailyPlan').value);
            const monthlyPlan = parseInt(document.getElementById('monthlyPlan').value);
            const yearlyPlan = parseInt(document.getElementById('yearlyPlan').value);
            const dailyProgress = (dailyPlan / 100) * 100;
            const monthlyProgress = (monthlyPlan / 100) * 100;
            const yearlyProgress = (yearlyPlan / 100) * 100;
            document.getElementById('dailyPlanProgress').textContent = `${dailyProgress.toFixed(2)}%`;
            document.getElementById('dailyPlanBar').value = dailyProgress;
            document.getElementById('monthlyPlanProgress').textContent = `${monthlyProgress.toFixed(2)}%`;
            document.getElementById('monthlyPlanBar').value = monthlyProgress;
            document.getElementById('yearlyPlanProgress').textContent = `${yearlyProgress.toFixed(2)}%`;
            document.getElementById('yearlyPlanBar').value = yearlyProgress;
            // å®Œæˆè®¡åˆ’è¿›åº¦æ›´æ–°ï¼Œè§¦å‘å¥–åŠ±
            giveReward();
        });

        // éšæœºåˆ‡æ¢è¶£å‘³å°äºº
        const emojis = ['ğŸ˜Š', 'ğŸ˜', 'ğŸ¥³', 'ğŸ¤©', 'ğŸ˜œ']; // æ›´å¤šemojiå¯è‡ªè¡Œæ·»åŠ 
        document.getElementById('changeEmoji').addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * emojis.length);
            document.getElementById('emoji').textContent = emojis[randomIndex];
        });

        // è‡ªå®šä¹‰èƒŒæ™¯éŸ³ä¹
        document.getElementById('playMusic').addEventListener('click', () => {
            const file = document.getElementById('musicFile').files[0];
            if (file) {
                const audio = new Audio(URL.createObjectURL(file));
                audio.play();
            }
        });
        document.getElementById('pauseMusic').addEventListener('click', () => {
            const audioElements = document.querySelectorAll('audio');
            audioElements.forEach(audio => audio.pause());
        });

        // è‡ªå®šä¹‰èƒŒæ™¯
        document.getElementById('applyBackground').addEventListener('click', () => {
            const file = document.getElementById('backgroundFile').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.body.style.backgroundImage = `url('${e.target.result}')`;
                    document.getElementById('backgroundFileName').textContent = file.name;
                    localStorage.setItem('backgroundDataUrl', e.target.result);
                    localStorage.setItem('backgroundFileName', file.name);
                };
                reader.readAsDataURL(file);
            }
        });
        document.getElementById('saveBackground').addEventListener('click', () => {
            const dataUrl = localStorage.getItem('backgroundDataUrl');
            if (dataUrl) {
                document.body.style.backgroundImage = `url('${dataUrl}')`;
            }
        });

        // è‡ªå®šä¹‰å¡ç‰‡é¢œè‰²
        document.getElementById('applyCardColor').addEventListener('click', () => {
            const color = document.getElementById('cardColor').value;
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => card.style.backgroundColor = color);
            localStorage.setItem('cardColor', color);
        });
        document.getElementById('saveCardColor').addEventListener('click', () => {
            const color = document.getElementById('cardColor').value;
            localStorage.setItem('cardColor', color);
        });

        // å¥–åŠ±å‡½æ•°
        function giveReward() {
            const coin = Math.floor(Math.random() * 30) + 1;
            const coinCountElement = document.getElementById('coinCount');
            const currentCoins = parseInt(coinCountElement.textContent);
            const newCoins = currentCoins + coin;
            coinCountElement.textContent = newCoins;
            document.getElementById('rewardMessage').textContent = `æ­å–œä½ ï¼Œå®Œæˆä»»åŠ¡ï¼å¥–åŠ± ${coin} é‡‘å¸`;
            // ä¿å­˜é‡‘å¸æ•°é‡åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('coinCount', newCoins);
        }

        // é¡µé¢åŠ è½½æ—¶æ¢å¤çŠ¶æ€
        window.onload = () => {
            // æ¢å¤èƒŒæ™¯
            const savedDataUrl = localStorage.getItem('backgroundDataUrl');
            const savedFileName = localStorage.getItem('backgroundFileName');
            if (savedDataUrl && savedFileName) {
                document.body.style.backgroundImage = `url('${savedDataUrl}')`;
                document.getElementById('backgroundFileName').textContent = savedFileName;
            }
            // æ¢å¤å¡ç‰‡é¢œè‰²
            const savedColor = localStorage.getItem('cardColor');
            if (savedColor) {
                const cards = document.querySelectorAll('.card');
                cards.forEach(card => card.style.backgroundColor = savedColor);
            }
            // æ¢å¤é‡‘å¸æ•°é‡
            const savedCoins = localStorage.getItem('coinCount');
            if (savedCoins) {
                document.getElementById('coinCount').textContent = savedCoins;
            }
        };
    </script>
</body>

</html>